<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/WidgetUtil.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: components/WidgetUtil.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/**
 * @class Class help position widgets on the screen
 */
var WidgetUtil = new Class ( /** @lends WidgetUtil.prototype */ {
	
	/**
	 * Represents the width of the canvas
	 */
	width: env.width,
	
	/**
	 * Represents the height of the canvas
	 */
	height: env.height,

	/**
	 * Glues a KineticJs node to the correct position with a correct size relative to screen size.
	 * @param {Kinetic.Node} node the KineticJs node
	 * @param {boolean} params.glueTop true for glue top and false (or no definition) for glue bottom. defaults to true
	 * @param {boolean} params.glueLeft true for glue left and false (or no definition) for glue right. defaults to true
	 * @param {float} params.width a decimal between 0 and 1 (proportional to screen size).
	 * @param {float} params.height a decimal between 0 and 1 (proportional to screen size).
	 * @param {float} params.dx a decimal representing x-displacement of image from side it is glued (proportional to screen size).
	 * @param {float} params.dy decimal representing y-displacement of image from side it is glued (proportional to screen size).
	 */
	glue: function (node, params) {
		var myWidth, myHight, myX, myY;
		
		myWidth = params.width * this.width;
		myHeight = params.height * this.height;
		
		if (params.glueTop == null) params.glueTop = true;
		if (params.glueLeft == null) params.glueLeft = true;
		
		if (params.glueTop) {
			myY = params.dy * this.height;
		} else {
			myY = this.height - myHeight - (params.dy * this.height);
		}

		if (params.glueLeft) {
			myX = params.dx * this.width;
		} else {
			myX = this.width - myWidth - (params.dx * this.width);
		}
		
		node.setX(myX);
		node.setY(myY);
		node.setWidth(myWidth);
		node.setHeight(myHeight);
	},
	
	
	/**
	 * Determines if the center of the object is within radius of a specified point
	 * @param {Kinetic.Node} node the KineticJs node
	 * @param {float} x a decimal representing horrizontal position of destination between 0 and 1
	 * @param {float} y a decimal representing vertical position of destination etween 0 and 1
	 * @param {float} radius a decimal representing radius which determines what is close
	 * @returns {boolean} if it is near the point
	 */
	isNearPoint: function(node, x, y, radius) {
		// we are working in real width and height and not decimal
		x = x * this.width;
		y = y * this.height;
		
		// screen might be skewed, so we have an ellipse.
		radiusWidth = radius * this.width;
		radiusHeight = radius * this.height;
		
		objX = node.getX() + ( node.getWidth() / 2 );
		objY = node.getY() + ( node.getHeight() / 2 );
		
		if ( (((objX-x)*(objX-x))/(radiusWidth*radiusWidth)+((objY-y)*(objY-y))/(radiusHeight*radiusHeight)) &lt;= 1 ) {
			// It is close enough
			return true;
		} else {
			// Too far
			return false;
		}
	},
	
	/**
	 * Determines if the center of the object is within radius of a specified point
	 * @param {Kinetic.Node} node the KineticJs node
	 * @param {array} xArray an array of horrizontal positions of destination between 0 and 1
	 * @param {array} yArray an array of vertical positions of destination etween 0 and 1
	 * @param {array} radiusArray an array of radius which determines what is close
	 * @returns {boolean}
	 */
	isNearPoints: function(node, xArray, yArray, radiusArray) {
		for (var i = 0; i &lt; radiusArray.length; i++) {
			if (this.isNearPoint(node, xArray[i], yArray[i], radiusArray[i])) {
				return true;
			}
		}
		return false;
	},
	
	/**
	 * Moves a node (slowly) to a new destination
	 * @param {Kinetic.Node} node the KineticJs node
	 * @param {integer} duration in milliseconds for the entire animation
	 * @param {float} x the x location to move to (between 0 and 1)
	 * @param {float} y the y location to move to (between 0 and 1)
	 */
	animateMove: function(node, duration, x, y) {
		var tween = new Kinetic.Tween({
			node: node, 
			duration: duration,
			x: dimensionUtil.decimalToActualWidth(x),
			y: dimensionUtil.decimalToActualHeight(y)
		});
		tween.play();
	},
	
});

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="AdditionGameController.html">AdditionGameController</a></li><li><a href="AdditionGameHelper.html">AdditionGameHelper</a></li><li><a href="AdditionGameView.html">AdditionGameView</a></li><li><a href="App.html">App</a></li><li><a href="ArrayUtil.html">ArrayUtil</a></li><li><a href="BrowserMusic.html">BrowserMusic</a></li><li><a href="DimensionUtil.html">DimensionUtil</a></li><li><a href="Env.html">Env</a></li><li><a href="GroupingGame2Controller.html">GroupingGame2Controller</a></li><li><a href="GroupingGame3Controller.html">GroupingGame3Controller</a></li><li><a href="GroupingGameController.html">GroupingGameController</a></li><li><a href="GroupingGameView.html">GroupingGameView</a></li><li><a href="HomeController.html">HomeController</a></li><li><a href="HomeView.html">HomeView</a></li><li><a href="KeyboardTextsGenerator.html">KeyboardTextsGenerator</a></li><li><a href="LoaderUtil.html">LoaderUtil</a></li><li><a href="MathUtil.html">MathUtil</a></li><li><a href="MenuController.html">MenuController</a></li><li><a href="MenuUnitController.html">MenuUnitController</a></li><li><a href="MenuUnitView.html">MenuUnitView</a></li><li><a href="MenuView.html">MenuView</a></li><li><a href="Music.html">Music</a></li><li><a href="OptionsController.html">OptionsController</a></li><li><a href="OptionsView.html">OptionsView</a></li><li><a href="PhonegapMusic.html">PhonegapMusic</a></li><li><a href="Practice1Controller.html">Practice1Controller</a></li><li><a href="Practice2Controller.html">Practice2Controller</a></li><li><a href="Practice3Controller.html">Practice3Controller</a></li><li><a href="PracticeView.html">PracticeView</a></li><li><a href="SpeechUtil.html">SpeechUtil</a></li><li><a href="Storage.html">Storage</a></li><li><a href="TemplateController.html">TemplateController</a></li><li><a href="TemplateModel.html">TemplateModel</a></li><li><a href="TemplateView.html">TemplateView</a></li><li><a href="UnitRecordsModel.html">UnitRecordsModel</a></li><li><a href="View.html">View</a></li><li><a href="WidgetUtil.html">WidgetUtil</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-dev</a> on Thu Sep 26 2013 20:16:07 GMT+1200 (NZST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
